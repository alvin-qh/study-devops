[client]
default-character-set = utf8mb4

[mysql]
default-character-set = utf8mb4

[mysqld]
skip-external-locking

init_connect = 'SET NAMES utf8mb4'
collation-server = utf8mb4_unicode_ci

character-set-server = utf8mb4
character-set-client-handshake = FALSE

bind-address = 0.0.0.0
port = 3306

general_log = 1
general_log_file = /var/log/mysql/slave_mysqld.log

slow_query_log = 1
long_query_time = 10.000000
slow_query_log_file = /var/log/mysql/slave_slow_query.log

thread_handling = pool-of-threads # 启动线程池
default_time_zone = +00:00

net_read_timeout = 28800
net_write_timeout = 28800

default_authentication_plugin = mysql_native_password # 使用本地密码方式登录

server-id = 2 # 设置节点 id

gtid_mode = on                # 使用 gtid 进行同步
enforce_gtid_consistency = on

read_only = on # 启动只读模式

sync_binlog = 1000
innodb_flush_log_at_trx_commit = 2
