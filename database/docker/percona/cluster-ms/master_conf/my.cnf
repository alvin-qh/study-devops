[client]
default-character-set = utf8mb4

[mysql]
default-character-set = utf8mb4

[mysqld]
skip-external-locking

init_connect = 'SET NAMES utf8mb4'
collation-server = utf8mb4_unicode_ci

character-set-server = utf8mb4
character-set-client-handshake = FALSE

bind-address = 0.0.0.0
port = 3306

general_log = ON
# general_log_file = /var/log/mysql/mysqld.log

slow_query_log = ON
# slow_query_log_file = /var/log/mysql/slow_query.log
# long_query_time = 10.000000

thread_handling = pool-of-threads # 启动线程池
default_time_zone = +00:00

net_read_timeout = 28800
net_write_timeout = 28800

default_authentication_plugin = mysql_native_password # 使用本地密码方式登录

server-id = 1       # 设置节点 id
log-bin = mysql-bin # 开启 binlog
gtid-mode = on      # 为 binlog 启动 gtid
enforce-gtid-consistency = on
log-slave-updates = 1  # 从库 binlog 才会记录主库同步的操作日志
skip-slave-start = 1   # 跳过 slave 复制线程

binlog-format = ROW
# binlog_ignore_db = sys
# binlog_ignore_db = mysql
# binlog_ignore_db = information_schema
# binlog_ignore_db = performance_schema

# expire_logs_days = 7
# max_binlog_size = 100m
# binlog_cache_size = 4m
# max_binlog_cache_size = 32m
