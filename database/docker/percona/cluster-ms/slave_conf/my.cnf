[client]
default-character-set = utf8mb4

[mysql]
default-character-set = utf8mb4

[mysqld]
skip-external-locking

init_connect = 'SET NAMES utf8mb4'
collation-server = utf8mb4_unicode_ci

character-set-server = utf8mb4
character-set-client-handshake = FALSE

bind-address = 0.0.0.0
port = 3306

general_log = ON
# general_log_file = /var/log/mysql/mysqld.log

slow_query_log = ON
# slow_query_log_file = /var/log/mysql/slow_query.log
# long_query_time = 10.000000

thread_handling = pool-of-threads # 启动线程池
default_time_zone = +00:00

net_read_timeout = 28800
net_write_timeout = 28800

default_authentication_plugin = mysql_native_password # 使用本地密码方式登录

server-id = 2   # 设置节点 id
gtid-mode = on  # 为 binlog 启动 gtid
enforce-gtid-consistency = on
skip-slave-start = 1   # 跳过 slave 复制线程
log-slave-updates = 1  # 从库 binlog 才会记录主库同步的操作日志
slave-skip-errors=all  # 忽略所有同步错误
